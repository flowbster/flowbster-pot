<button mat-raised-button color="primary" (click)="onBack()">Back</button>
<!-- {{entry.name | json }} {{starterEntry.name | json}}
{{isSubmitted}} -->
<form [formGroup]="workflowEditform" (ngSubmit)="onSubmit()" #f="ngForm">

  <mat-form-field>
    <input required matInput placeholder="Workflow Name" [formControl]="workflowEditform.controls['name']" [(ngModel)]="entry.name">
    <mat-error *ngIf="!workflowEditform.controls['name'].valid&&workflowEditform.controls['name'].dirty">
      Workflow name is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <textarea required matInput placeholder="Write description here" [formControl]="workflowEditform.controls['description']" [(ngModel)]="entry.description"></textarea>
    <mat-error *ngIf="!workflowEditform.controls['description'].valid&&workflowEditform.controls['description'].dirty">
      A desrciption is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <div *ngIf="operation === 'create'" matTooltip="Before saving a workflow template, you have to enter the basic workflow properties" [matTooltipPosition]="'below'">
    <button type="submit" color="primary" [disabled]="!(workflowEditform.valid && isGraphValid)" mat-raised-button>Create Workflow Template</button>
  </div>

  <div *ngIf="operation !== 'create'" matTooltip="Before saving a workflow template, you have to enter the basic workflow properties" [matTooltipPosition]="'below'">
    <button type="submit" color="primary" [disabled]="!(workflowEditform.valid)" mat-raised-button>Update Workflow Template</button>
  </div>

  <toil-editor [readOnly]="false"></toil-editor>
</form>
